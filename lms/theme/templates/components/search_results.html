{% if books %}
<div class="absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg mt-1 z-50 max-h-96 overflow-y-auto">
    {% for book in books %}
    <a href="{% url 'library:book_detail' book.id %}" 
       class="flex items-center px-4 py-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0 transition-colors duration-150">
        <div class="flex-shrink-0 w-12 h-16 bg-gray-200 rounded mr-3 overflow-hidden">
            {% if book.cover %}
                <img src="{{ book.cover.url }}" alt="{{ book.title }}" class="w-full h-full object-cover">
            {% else %}
                <div class="w-full h-full flex items-center justify-center text-gray-400">
                    <i class="fas fa-book text-lg"></i>
                </div>
            {% endif %}
        </div>
        <div class="flex-1 min-w-0">
            <h4 class="text-sm font-medium text-gray-900 truncate">{{ book.title }}</h4>
            <p class="text-sm text-gray-500 truncate">by {{ book.author.name }}</p>
            <p class="text-xs text-gray-400 truncate">{{ book.category.category_name }}</p>
        </div>
        <div class="flex-shrink-0 ml-2">
            <i class="fas fa-chevron-right text-gray-400 text-xs"></i>
        </div>
    </a>
    {% endfor %}
    {% if books|length == 8 %}
    <div class="px-4 py-2 text-xs text-gray-500 text-center border-t border-gray-100">
        Showing top {{ books|length }} results...
    </div>
    {% endif %}
</div>
{% endif %} 